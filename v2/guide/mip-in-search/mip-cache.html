<!DOCTYPE html>
<html mip>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>MIP 文档_移动网页加速器_MIP(Mobile Instant Pages_)MIP-Cache</title>
    <meta name="description" content="MIP-Cache 给所有符合规范的 MIP 页面提供缓存服务，相当于一层 CDN。无论是页面还是图片，都会被缓存，并从 MIP-Cache 直接返回。在本节中，将会讲到资源在 MIP-Cache 的生效流程，MIP-Cache 的通用规范，以及百度的实现方案。">
    <link rel="canonical" href="/v2/guide/mip-in-search/mip-cache.html">
    <link rel="stylesheet" type="text/css" href="https://c.mipcdn.com/static/v2/mip.css">
    <link rel="icon" href="https://www.mipengine.org/favicon.ico">
    <!-- <link rel="stylesheet" href="https://bos.nj.bpc.baidu.com/assets/mip/projects/mip.css"> -->
    <!-- <link rel="stylesheet" href="http://172.18.19.102:8080/dist/mip.css"> -->
    <link rel="stylesheet" type="text/css" href="/src/style/dist/index.css">
  </head>
  <body>
<mip-fixed type="top" class="layout-navbar-fixed">
  <div class="layout-navbar">
    <a data-type="mip" href="/"><div class="navbar-logo"></div></a>
    <div class="navbar-menu">
      <ul class="navbar-menu-wrapper">
        <li class="navbar-item" ><a data-type="mip" href="/v2/index.html" class="menu-name" title="首页">首页</a></li>
        <li class="navbar-item active">
          <span class="menu-name" title="学习">学习<i class="arrow"></i></span>
          <ul class="navbar-sub-menu">
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/guide/basic/newbie.html" title="使用文档">使用文档</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/components/index.html" title="组件列表">组件列表</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/api/index.html" title="API">API</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/codelabs/index.html" title="Codelab">Codelab</a></li>
          </ul>
        </li>
        <li class="navbar-item">
          <span class="menu-name" title="常用链接">常用链接<i class="arrow"></i></span>
          <ul class="navbar-sub-menu">
            <li class="navbar-sub-item"><a data-type="mip" href="http://www.cnblogs.com/mipengine" title="MIP 官方博客">MIP 官方博客</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://github.com/mipengine/mip2/tree/master/packages/mip-cli" title="MIP-CLI 本地开发工具">MIP-CLI 本地开发工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/validate" title="MIP 代码校验工具">MIP 代码校验工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/preview" title="MIP 效果预览工具">MIP 效果预览工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/mippath.html" title="MIP PATH 转换工具">MIP PATH 转换工具</a></li>
          </ul>
        </li>
        <li class="navbar-item" ><a target="_blank" href="https://github.com/mipengine/mip2" class="menu-name" title="GitHub">GitHub</a></li>
        <li class="navbar-item" ><a target="_blank" href="https://www.mipengine.org" class="menu-name" title="回到旧版">回到旧版</a></li>
      </ul>
      <div class="navbar-indicator" m-bind:style="navbarStyle"></div>
    </div>
    <div class="navbar-toggle" on="tap:nav-sidebar.open"><i class="iconfont icon-bars"></i></div>
  </div>
</mip-fixed>

    <mip-sidebar
      id="nav-sidebar"
      layout="nodisplay"
      side="right"
      class="mip-hidden nav-sidebar"
    >
<div class="sidebar-fragment sidebar-nav-wrapper"
  m-bind:class="{hide:sidebarFragment!=='nav'}"
>
  <h1 on="tap:MIP.setData({sidebarFragment:m.sidebarSecondFragment})"><span class="home-arrow">目录</span></h1>
  <ul class="navbar-menu-wrapper">
    <li class="navbar-item" ><a data-type="mip" href="/v2/index.html" class="menu-name">首页</a></li>
    <li class="navbar-item active">
      <span class="menu-name">学习</span>
      <ul class="navbar-sub-menu">
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/guide/basic/newbie.html">使用文档</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/components/index.html">组件列表</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/api/index.html">API</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/codelabs/index.html">Codelab</a></li>
      </ul>
    </li>
    <li class="navbar-item">
      <span class="menu-name">常用链接</span>
      <ul class="navbar-sub-menu">
        <li class="navbar-sub-item"><a data-type="mip" href="http://www.cnblogs.com/mipengine">MIP 官方博客</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://github.com/mipengine/mip2/tree/master/packages/mip-cli">MIP-CLI 本地开发工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/validate">MIP 代码校验工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/preview">MIP 效果预览工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/mippath.html">MIP PATH 转换工具</a></li>
      </ul>
    </li>
    <li class="navbar-item" ><a data-type="mip" href="https://github.com/mipengine/mip2" class="menu-name">GitHub</a></li>
    <li class="navbar-item" ><a data-type="mip" href="https://www.mipengine.org" class="menu-name">回到旧版</a></li>
  </ul>
</div>
<div class="sidebar-fragment navbar-secnav-wrapper"
  m-bind:class="{hide:sidebarFragment!=='guide'}"
>
  <h1 on="tap:MIP.setData({sidebarFragment:'nav'})"><span>使用文档</span></h1>
  <mip-sidenav m-bind:menu="menu" m-bind:chapters="chapters" m-bind:url="url"></mip-sidenav>
</div>
    </mip-sidebar>

<mip-fixed type="left" top="64px" class="layout-sidebar">
  <mip-sidenav m-bind:menu="menu" m-bind:chapters="chapters" m-bind:url="url">
  </mip-sidenav>
</mip-fixed>
<div class="layout-main-content">
  <div class="content-wrapper">
<p class="markdown-breadcrumb">
  <span>MIP 搜索生效</span><span class="split">/</span>  <span>MIP-Cache</span></p>
    <div class="markdown-body">
      <h1 id="mipcache"><a href="#mipcache" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache</h1><p>MIP-Cache 给所有符合规范的 MIP 页面提供缓存服务，相当于一层 CDN。无论是页面还是图片，都会被缓存，并从 MIP-Cache 直接返回。在本节中，将会讲到资源在 MIP-Cache 的生效流程，MIP-Cache 的通用规范，以及百度的实现方案。</p><h2 id="mipcache-生效流程"><a href="#mipcache-生效流程" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 生效流程</h2><p>由于全网的 MIP URL 数量过大，做到每条 URL 都缓存不现实。优先缓存高点击 URL，直接返回长尾 URL 是一个合理的策略。 对于已离线缓存的 URL，采用离线流程，直接从处理好的 MIP-Processor 中获取数据，返回给用户。离线流程下图所示。</p><p>
      <span class="md-img-wrapper">
        <span class="md-img-wrapper-child">
          <mip-img
            layout="container"
            width="1878"
            height="1214"
            src="/assets/img/docs/guide/mip-in-search/images/mip-processor.png"
            popup
          ></mip-img>
        </span>
      </span>
      </p><p>对于未缓存的URL，MIP-Cache采用在线流程，优先抓取源站返回。在线流程如下图所示。</p><p>
      <span class="md-img-wrapper">
        <span class="md-img-wrapper-child">
          <mip-img
            layout="container"
            width="1842"
            height="1214"
            src="/assets/img/docs/guide/mip-in-search/images/mip-processor2.png"
            popup
          ></mip-img>
        </span>
      </span>
      </p><h2 id="mipcache-通用规范"><a href="#mipcache-通用规范" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 通用规范</h2><h3 id="mipcache-url-规范"><a href="#mipcache-url-规范" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache URL 规范</h3><p>MIP-Cache 给所有符合规范的 MIP 页面提供 Cache 服务，能够主动地提高页面加载速度，为使用 MIP-Cache 服务的页面上的图片、CSS 文件等资源提供缓存服务，这样能做到所有 HTTP 请求来自于同源，能够加速加载速度。URL的具体规则和下列情况有关。</p><ul><li>内容类型：图片使用 <code>/i</code>；MIP HTML document 使用 <code>/c</code>；其他资源使用 <code>/r</code>，如 tff 文件。</li><li>协议类型：使用 TLS，https 的增加 <code>/s</code>，http 的不加。</li></ul><h4 id="网页地址"><a href="#网页地址" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>网页地址</h4><p>https 资源：</p><ul><li>originalUrl：<a data-type="mip" href="https://www.xx.com/">https://www.xx.com/</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/c/s/www.xx.com">https://MIP-CacheHost/c/s/www.xx.com</a></li></ul><p>http 资源：</p><ul><li>originalUrl：<a data-type="mip" href="http://www.xx.com/">http://www.xx.com/</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/c/www.xx.com">https://MIP-CacheHost/c/www.xx.com</a></li></ul><h4 id="图片"><a href="#图片" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>图片</h4><p>https 资源：</p><ul><li>originalUrl：<a data-type="mip" href="https://www.xx.com/a.jpg">https://www.xx.com/a.jpg</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/i/s/www.xx.com/a.jpg">https://MIP-CacheHost/i/s/www.xx.com/a.jpg</a></li></ul><p>http 资源：</p><ul><li>originalUrl：<a data-type="mip" href="http://www.xx.com/a.jpg">http://www.xx.com/a.jpg</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/i/www.xx.com/a.jpg">https://MIP-CacheHost/i/www.xx.com/a.jpg</a></li></ul><h4 id="资源"><a href="#资源" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>资源</h4><p>https 资源：</p><ul><li>originalUrl：<a data-type="mip" href="https://www.xx.com/b.tff">https://www.xx.com/b.tff</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/r/s/www.xx.com/b.tff">https://MIP-CacheHost/r/s/www.xx.com/b.tff</a></li></ul><p>http 资源：</p><ul><li>originalUrl：<a data-type="mip" href="http://www.xx.com/b.tff">http://www.xx.com/b.tff</a></li><li>cdnMipUrl：<a data-type="mip" href="https://MIP-CacheHost/r/www.xx.com/b.tff">https://MIP-CacheHost/r/www.xx.com/b.tff</a></li></ul><h3 id="https-代理"><a href="#https-代理" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>HTTPS 代理</h3><p>处于安全性考虑，HTTPS 的资源不会被劫持。MIP-Cache 对所有资源进行 HTTPS 代理，能够保证网页开发者和使用者的权益。</p><h3 id="mipcache-的更新和删除机制"><a href="#mipcache-的更新和删除机制" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 的更新和删除机制</h3><p>由于 MIP-Cache 会保存一份页面的快照，但对应的页面可能升级或删除。因此，需要提供自动更新，手动更新和手动删除机制。</p><h4 id="mipcache-遵循异步更新策略"><a href="#mipcache-遵循异步更新策略" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 遵循异步更新策略</h4><p>当用户访问 MIP-Cache 时，倘若页面在 MIP-Cache 中不存在，MIP-Cache 会尝试抓取网页，按照页面处理的规则处理并缓存网页，然后给用户返回。倘若页面在 MIP-Cache 中已经存在，只要页面还不是特别「不新鲜」，MIP-Cache 会首先把页面返回给用户，以保证用户能以最快的速度打开页面；同时 MIP-Cache 会发起一个异步抓取的流程，负责将页面抓取回来，按照页面的处理流程处理页面并分门别类地存储页面中的数据，以保证后续访问的用户能看到一个相对「新鲜」的页面。</p><h4 id="更新和删除页面的步骤"><a href="#更新和删除页面的步骤" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>更新和删除页面的步骤</h4><p>站长如果想更新和删除 MIP-Cache 缓存的页面需要两步。首先，站长处理好页面，更新需求即更新网页内容，删除即让网页不可用。然后站长调用 MIP-Cache 的接口更新和删除网页缓存。</p><h3 id="mipcache-的-validator"><a href="#mipcache-的-validator" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 的 Validator</h3><p>由于 MIP-Cache 是专门为 MIP 页面服务的 Cache，因此 MIP-Cache 内置了 MIP 页面的校验功能，总体上遵循的逻辑如下。</p><ul><li>MIP-Cache 抓取页面。</li><li>抓取成功后的 HTML 内容发给校验模块。</li><li>如果页面是 MIP 页面，则继续 MIP-Cache 后续的服务逻辑。</li><li>如果页面不是 MIP 页面，则 MIP-Cache 终止本次服务，并返回状态码 404。</li></ul><h2 id="百度-mipcache-的附加功能"><a href="#百度-mipcache-的附加功能" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>百度 MIP-Cache 的附加功能</h2><p>为了让站长的域名更多地露出，MIP-Cache 支持通过独立二级域名的方式访问；为了在 Cache 的命中率和页面更新周期之内做权衡，MIP-Cache 整体上遵循异步更新的策略；此外，MIP-Cache 内置了 MIP 的 Validator 检查器，不符合规范的页面不会被 MIP-Cache 缓存；MIP-Cache 本身的高频更新，也可以快速发现站长站点的问题，及时将故障信息反馈给站长。</p><h3 id="独立二级域名"><a href="#独立二级域名" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>独立二级域名</h3><p>百度 MIP-Cache 的独立二级域名支持的目的是解决两个问题。</p><ol><li>让站长的域名更多地露出；</li><li>解决多个站点复用一个域名，Cookie 大小不可控的问题。</li></ol><p>MIP-Cache 域名替换规范如下:</p><ul><li>站点域名中的 <code>.</code> 将被替换为 <code>-</code></li><li>站点域名中的 <code>-</code> 将被替换为 <code>--</code></li><li>上述规则执行完后，拼接上 MIP-Cache 的域名 <code>.mipcdn.com</code></li><li>由于 MIP-Cache 的域名替换规则比较复杂，再后文中统一称之为 <code>MIP-CacheHost</code>。举个例子：<code>www.xx.com</code> 将被替换为 <code>www-xx-com.mipcdn.com</code></li></ul><p>当然，独立二级域名上线之后，会带来比较多的 DNS 解析长尾问题，为此，百度在结果页 load 之时，会对所有 MIP-Cache 的域名做预解析，做到既解决站长的痛点，又不影响用户体验。</p><p>在百度搜索结果页中，MIP-Cache 针对以上情况做了容灾，校验失败的页面会跳转到源站。</p><h3 id="百度-mipcache-页面处理"><a href="#百度-mipcache-页面处理" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>百度 MIP-Cache 页面处理</h3><p>MIP-Cache 有自己的 HTML 解析器。针对所有页面，MIP-Cache 的页面处理逻辑如下。</p><ul><li>解析：读取 MIP 页面的 HTML 内容，将 HTML 内容，按照 W3C 的规范，解析为 DOM 树。</li><li>提链：解析过程中，MIP-Cache 的解析器会根据 MIP-Cache 的缓存规范，提取需要 MIP-Cache 处理的所有链接。</li><li>改写：根据 MIP-Cache 的 URL 规范，改写页面中所有的静态资源，使之同源。</li><li>序列化：将改写后的 DOM 树序列化为 HTML 字符串。序列化过程中，会做去掉注释、所有标签闭合、自闭合标签统一改写等让页面更加符合规范的操作。</li><li>返回：HTML 页面返回给用户，用户开始渲染和展现。</li><li>抓取：针对页面中提链出来的资源，分发给不同的处理后端处理并缓存。</li></ul><p>除此之外，需要补充以下内容:</p><ol><li>MIP-Cache 处理时间：抓取时间除外，MIP-Cache 的所有页面处理逻辑会在毫秒级别的时间内完成。</li><li>MIP-Cache 处理的资源： 目前，MIP-Cache 处理的资源，包括但不限于以下几类：图片、字体、CSS。</li></ol><p>后续，MIP-Cache 会上线更多可以优化页面打开速度的策略，MIP-Cache 所有的策略更新都会在 MIP 官网上通知给站长，敬请关注。</p><h3 id="百度-mipcache-的抓取标准"><a href="#百度-mipcache-的抓取标准" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>百度 MIP-Cache 的抓取标准</h3><ul><li>MIP-Cache 只有在用户点击的时候才会抓取，不会给站长带来比较多的流量上涨；对于高点击的页面，MIP-Cache 会帮源站抗比较多的访问压力。</li><li>MIP-Cache 抓取会带着统一的 UA，UA 为：<code>Mozilla/5.0 (Linux;u;Android 4.2.2;zh-cn;) AppleWebKit/534.46 (KHTML,like Gecko) Version/5.1 Mobile Safari/10600.6.3 (compatible; baidumib;mip; + https://www.mipengine.org)</code>。</li><li>请不要对 MIP-Cache 的抓取 UA 相关的流量做任何封禁操作，否则会带来比较严重的更新和用户体验问题。</li></ul><h3 id="百度-mipcache-的超时设置"><a href="#百度-mipcache-的超时设置" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>百度 MIP-Cache 的超时设置</h3><p>目前 MIP-Cache 的超时时间根据数据的情况有所不同，与 MIP-Cache 的服务器配置也有关系。对页面来说，MIP-Cache 中最快能被更新的时间为 52 分钟，最慢的更新时间为 5 天左右。页面的更新情况与源站的可用性及用户的点击行为强相关。对于图片及静态文件来讲，缓存时间为 10 天。后续，MIP-Cache 会根据访问的数据特征调整这部分更新时间，所有的调整都会在 MIP 官网上通知</p><h2 id="百度-mipcache-的操作"><a href="#百度-mipcache-的操作" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>百度 MIP-Cache 的操作</h2><h3 id="清理-mipcache"><a href="#清理-mipcache" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>清理 MIP-Cache</h3><p>如果你在 MIP-Cache 生效期间修改了页面代码，由于 MIP-Cache 未更新，这个改动并不会被百度搜索结果的用户感知到，这个问题可以通过紧急清理MIP-Cache 解决。</p><p>紧急清理 MIP-Cache 对频率有限制，每 100s 只能清理 10 次。操作方法以 <code>百度资源平台</code> -&gt; <code>MIP 引入</code> -&gt; <code>MIP-Cache 清理</code>为准，在这里简单演示一下 PHP 方法。</p><ol><li>新建 clear.php 文件；</li><li>在文件中写入站长平台提供的 PHP 示例；</li><li>如果 MIP 页是 https，将第一行 <code>$api=</code> 中的 <code>&quot;/c&quot;</code> 改为 <code>&quot;/c/s&quot;</code>；</li><li>修改第二行 <code>$postData</code> 内容为页面上方的 Authkey</li><li>修改第三行 <code>$api.urlencode()</code> 参数为目标 MIP URL；</li><li>在终端执行<code>$ php clear.php</code> 命令，如果清理成功，则看到返回值如下：</li></ol><pre><div class="code-index"><div>1</div></div><code class="lang-JSON">{<span class="hljs-attr">"status"</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">"msg"</span>:<span class="hljs-string">"cache clean success"</span>}</code></pre><h3 id="紧急删除-mip-页面方法"><a href="#紧急删除-mip-页面方法" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>紧急删除 MIP 页面方法</h3><p>在删除服务器上的一个 MIP 页面后，由于 MIP-Cache 未过期，搜索用户还是能够访问到页面。这个问题也可以通过紧急清理 MIP-Cache 解决，步骤如下:</p><ol><li>从服务器删除页面资源；</li><li>紧急清理 MIP-Cache，方法见上节。</li></ol><blockquote><p>删除 MIP-Cache 后，MIP-Cache 会通知百度 Spider 重新抓取，评估页面。因此，紧急删除 MIP-Cache 后，百度搜索内部的 MIP 页面展现也会在很较短的时间内消失。</p></blockquote><h2 id="mipcache-小结"><a href="#mipcache-小结" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP-Cache 小结</h2><p>本节内容介绍了 MIP-Cache 的生效流程，从通用的角度给出 MIP-Cache 应该具有的功能：静态文件缓存改写、HTTPS 代理、提供更新机制、更新时校验。接下来解释了百度 MIP-Cache 的功能，除了实现通用机制，还增加了独立二级域名、智能抓取、定时更新等功能。最后演示了使用 MIP-Cache 更新清理接口，方便站长更加灵活地使用 MIP-Cache。</p>
    </div>
<div class="markdown-toolbar">
  <a data-type="mip" href="https://github.com/mipengine/mip2/issues/new?title=反馈:docs/guide/mip-in-search/mip-cache.md"><span>反馈</span></a>
  <a data-type="mip" href="https://github.com/mipengine/mip2/edit/master/docs/guide/mip-in-search/mip-cache.md"><span>编辑</span></a>
</div>
<div class="markdown-paginator">

  <a class="markdown-paginator-item" data-type="mip" href="/v2/guide/mip-in-search/process.html">
    <p class="label">上一页</p>
    <p class="title">MIP 搜索生效流程</p>
  </a>
  <a class="markdown-paginator-item" data-type="mip" href="/v2/guide/mip-in-search/native-like-mip.html">
    <p class="label">下一页</p>
    <p class="title">类原生的 MIP 页面体验</p>
  </a>
</div>
  </div>
</div>
<mip-data>
  <script type="application/json">
    {
      "navbar": [{"name":"首页","path":"docs/index","activeUrl":{},"width":32,"url":"/v2/index.html"},{"name":"学习","width":32,"activeUrl":{},"children":[{"name":"使用文档","path":"docs/guide","width":64,"url":"/v2/guide/basic/newbie.html"},{"name":"组件列表","path":"docs/extensions","width":64,"url":"/v2/components/index.html"},{"name":"API","path":"docs/api","url":"/v2/api/index.html"},{"name":"Codelab","path":"docs/codelabs","width":60,"url":"/v2/codelabs/index.html"}]},{"name":"常用链接","children":[{"name":"MIP 官方博客","url":"http://www.cnblogs.com/mipengine","blank":true},{"name":"MIP-CLI 本地开发工具","url":"https://github.com/mipengine/mip2/tree/master/packages/mip-cli","blank":true},{"name":"MIP 代码校验工具","url":"https://www.mipengine.org/validator/validate","blank":true},{"name":"MIP 效果预览工具","url":"https://www.mipengine.org/validator/preview","blank":true},{"name":"MIP PATH 转换工具","url":"https://www.mipengine.org/mippath.html","blank":true}],"width":82},{"name":"GitHub","url":"https://github.com/mipengine/mip2","blank":true,"width":50},{"name":"回到旧版","url":"https://www.mipengine.org","blank":true,"width":32}],
      "navIndex": "1",
      "sidebarFragment": "guide",
      "sidebarSecondFragment": "guide",
      "menu": [{"name":"简介","path":"docs/guide/basic","children":[{"name":"新手指南","path":"docs/guide/basic/newbie.md","url":"/v2/guide/basic/newbie.html"},{"name":"完整的例子","path":"docs/guide/basic/demo.md","url":"/v2/guide/basic/demo.html"},{"name":"什么是 MIP","path":"docs/guide/basic/what-is-mip.md","url":"/v2/guide/basic/what-is-mip.html"},{"name":"MIP 加速原理","path":"docs/guide/basic/principle-of-mip.md","url":"/v2/guide/basic/principle-of-mip.html"},{"name":"MIP 内容声明","path":"docs/guide/basic/announcement.md","url":"/v2/guide/basic/announcement.html"}]},{"name":"开发规范","path":"docs/guide/mip-standard","children":[{"name":"MIP-HTML 规范","path":"docs/guide/mip-standard/mip-html-spec.md","url":"/v2/guide/mip-standard/mip-html-spec.html"},{"name":"MIP-Cache 规范","path":"docs/guide/mip-standard/mip-cache-spec.md","url":"/v2/guide/mip-standard/mip-cache-spec.html"},{"name":"MIP 校验规则","path":"docs/guide/mip-standard/mip-validate.md","url":"/v2/guide/mip-standard/mip-validate.html"},{"name":"Canonical 使用规范","path":"docs/guide/mip-standard/mip-canonical.md","url":"/v2/guide/mip-standard/mip-canonical.html"},{"name":"组件开发规范","path":"docs/guide/mip-standard/mip-components-spec.md","url":"/v2/guide/mip-standard/mip-components-spec.html"}]},{"name":"MIP 组件机制","path":"docs/guide/component","children":[{"name":"MIP 组件化介绍","path":"docs/guide/component/introduction.md","url":"/v2/guide/component/introduction.html"},{"name":"MIP 组件和 Vue 的关系","path":"docs/guide/component/relationship-between-mip-component-and-vue.md","url":"/v2/guide/component/relationship-between-mip-component-and-vue.html"},{"name":"MIP 2.0 组件实例的生命周期和回调钩子","path":"docs/guide/component/instance-life-cycle.md","url":"/v2/guide/component/instance-life-cycle.html"},{"name":"MIP-HTML 语法和对应 MIP 组件开发介绍","path":"docs/guide/component/syntax.md","url":"/v2/guide/component/syntax.html"},{"name":"插槽","path":"docs/guide/component/slots.md","url":"/v2/guide/component/slots.html"},{"name":"组件布局","path":"docs/guide/component/layout.md","url":"/v2/guide/component/layout.html"},{"name":"沙盒机制","path":"docs/guide/component/sandbox.md","url":"/v2/guide/component/sandbox.html"},{"name":"事件通信","path":"docs/guide/component/actions-and-events.md","url":"/v2/guide/component/actions-and-events.html"},{"name":"组件属性 Props","path":"docs/guide/component/props.md","url":"/v2/guide/component/props.html"}]},{"name":"MIP 组件开发","path":"docs/guide/mip-cli","children":[{"name":"mip2 命令行工具","path":"docs/guide/mip-cli/cli-usage.md","url":"/v2/guide/mip-cli/cli-usage.html"},{"name":"使用 mip-cli 快速开始","path":"docs/guide/mip-cli/start-writing-first-mip.md","url":"/v2/guide/mip-cli/start-writing-first-mip.html"},{"name":"MIP 组件开发","path":"docs/guide/mip-cli/component-development.md","url":"/v2/guide/mip-cli/component-development.html"},{"name":"组件调试","path":"docs/guide/mip-cli/component-testing.md","url":"/v2/guide/mip-cli/component-testing.html"},{"name":"组件部署","path":"docs/guide/mip-cli/component-deploy.md","url":"/v2/guide/mip-cli/component-deploy.html"},{"name":"提交组件到官方组件仓库","path":"docs/guide/mip-cli/contribute-to-official-repo.md","url":"/v2/guide/mip-cli/contribute-to-official-repo.html"},{"name":"提交站长组件","path":"docs/guide/mip-cli/contribute-to-site-extensions-repo.md","url":"/v2/guide/mip-cli/contribute-to-site-extensions-repo.html"},{"name":"mip2 CLI 用户自定义扩展","path":"docs/guide/mip-cli/cli-user-plugin.md","url":"/v2/guide/mip-cli/cli-user-plugin.html"}]},{"name":"进阶教程","path":"docs/guide/mip-advanced","children":[{"name":"MIP 组件间通信","path":"docs/guide/mip-advanced/components-event.md","url":"/v2/guide/mip-advanced/components-event.html"},{"name":"MIP 中与服务端通信","path":"docs/guide/mip-advanced/data-from-server.md","url":"/v2/guide/mip-advanced/data-from-server.html"},{"name":"Promise 在 MIP 中的使用","path":"docs/guide/mip-advanced/promise.md","url":"/v2/guide/mip-advanced/promise.html"},{"name":"MIP 加速原理","path":"docs/guide/mip-advanced/mip-speed-principle.md","url":"/v2/guide/mip-advanced/mip-speed-principle.html"},{"name":"MIP Access 原理剖析","path":"docs/guide/mip-advanced/access-principle.md","url":"/v2/guide/mip-advanced/access-principle.html"},{"name":"离线可用在 MIP 中的实现","path":"docs/guide/mip-advanced/mip-offline.md","url":"/v2/guide/mip-advanced/mip-offline.html"}]},{"name":"MIP 源码解析","path":"docs/guide/mip-source-interpretation","children":[{"name":"MIP 模块简介","path":"docs/guide/mip-source-interpretation/introduction.md","url":"/v2/guide/mip-source-interpretation/introduction.html"},{"name":"MIP 基础模块","path":"docs/guide/mip-source-interpretation/basic.md","url":"/v2/guide/mip-source-interpretation/basic.html"},{"name":"MIP 组件机制详解","path":"docs/guide/mip-source-interpretation/components.md","url":"/v2/guide/mip-source-interpretation/components.html"},{"name":"layout 布局规范","path":"docs/guide/mip-source-interpretation/layout.md","url":"/v2/guide/mip-source-interpretation/layout.html"},{"name":"naboo 动画库","path":"docs/guide/mip-source-interpretation/naboo-animation.md","url":"/v2/guide/mip-source-interpretation/naboo-animation.html"},{"name":"gesture 手势集合","path":"docs/guide/mip-source-interpretation/gesture-sets.md","url":"/v2/guide/mip-source-interpretation/gesture-sets.html"},{"name":"hash 通信机制","path":"docs/guide/mip-source-interpretation/hash.md","url":"/v2/guide/mip-source-interpretation/hash.html"},{"name":"platform 识别","path":"docs/guide/mip-source-interpretation/platform.md","url":"/v2/guide/mip-source-interpretation/platform.html"}]},{"name":"可交互 MIP","path":"docs/guide/interactive-mip","children":[{"name":"可交互 MIP - 概况","path":"docs/guide/interactive-mip/introduction.md","url":"/v2/guide/interactive-mip/introduction.html"},{"name":"mip-data 设置数据","path":"docs/guide/interactive-mip/mip-data.md","url":"/v2/guide/interactive-mip/mip-data.html"},{"name":"mip-bind 绑定数据","path":"docs/guide/interactive-mip/mip-bind.md","url":"/v2/guide/interactive-mip/mip-bind.html"},{"name":"Class 与 Style 绑定","path":"docs/guide/interactive-mip/class-style-binding.md","url":"/v2/guide/interactive-mip/class-style-binding.html"},{"name":"MIP.setData 修改数据","path":"docs/guide/interactive-mip/set-data.md","url":"/v2/guide/interactive-mip/set-data.html"},{"name":"MIP.watch 观察数据","path":"docs/guide/interactive-mip/watch.md","url":"/v2/guide/interactive-mip/watch.html"},{"name":"全局共享数据","path":"docs/guide/interactive-mip/global-data.md","url":"/v2/guide/interactive-mip/global-data.html"},{"name":"mip-script 自定义 JS","path":"docs/guide/interactive-mip/mip-script.md","url":"/v2/guide/interactive-mip/mip-script.html"}]},{"name":"全站 MIP","path":"docs/guide/all-sites-mip","children":[{"name":"全站 MIP 介绍","path":"docs/guide/all-sites-mip/introduction.md","url":"/v2/guide/all-sites-mip/introduction.html"},{"name":"MIP 页面编写规范","path":"docs/guide/all-sites-mip/structure.md","url":"/v2/guide/all-sites-mip/structure.html"},{"name":"页面切换方案","path":"docs/guide/all-sites-mip/switch-page.md","url":"/v2/guide/all-sites-mip/switch-page.html"},{"name":"Page API","path":"docs/guide/all-sites-mip/page-api.md","url":"/v2/guide/all-sites-mip/page-api.html"},{"name":"MIP Shell","path":"docs/guide/all-sites-mip/mip-shell.md","url":"/v2/guide/all-sites-mip/mip-shell.html"},{"name":"MIP Viewer","path":"docs/guide/all-sites-mip/viewer.md","url":"/v2/guide/all-sites-mip/viewer.html"},{"name":"MIP 快捷样式","path":"docs/guide/all-sites-mip/style.md","url":"/v2/guide/all-sites-mip/style.html"}]},{"name":"MIP 搜索生效","path":"docs/guide/mip-in-search","children":[{"name":"搜索识别 MIP 页","path":"docs/guide/mip-in-search/introduction.md","url":"/v2/guide/mip-in-search/introduction.html"},{"name":"MIP 搜索生效流程","path":"docs/guide/mip-in-search/process.md","url":"/v2/guide/mip-in-search/process.html"},{"name":"MIP-Cache","path":"docs/guide/mip-in-search/mip-cache.md","url":"/v2/guide/mip-in-search/mip-cache.html"},{"name":"类原生的 MIP 页面体验","path":"docs/guide/mip-in-search/native-like-mip.md","url":"/v2/guide/mip-in-search/native-like-mip.html"}]}],
      "chapters": [{"level":1,"hash":"#mipcache","text":"MIP-Cache","children":[{"level":2,"hash":"#mipcache-生效流程","text":"MIP-Cache 生效流程"},{"level":2,"hash":"#mipcache-通用规范","text":"MIP-Cache 通用规范","children":[{"level":3,"hash":"#mipcache-url-规范","text":"MIP-Cache URL 规范","children":[{"level":4,"hash":"#网页地址","text":"网页地址"},{"level":4,"hash":"#图片","text":"图片"},{"level":4,"hash":"#资源","text":"资源"}]},{"level":3,"hash":"#https-代理","text":"HTTPS 代理"},{"level":3,"hash":"#mipcache-的更新和删除机制","text":"MIP-Cache 的更新和删除机制","children":[{"level":4,"hash":"#mipcache-遵循异步更新策略","text":"MIP-Cache 遵循异步更新策略"},{"level":4,"hash":"#更新和删除页面的步骤","text":"更新和删除页面的步骤"}]},{"level":3,"hash":"#mipcache-的-validator","text":"MIP-Cache 的 Validator"}]},{"level":2,"hash":"#百度-mipcache-的附加功能","text":"百度 MIP-Cache 的附加功能","children":[{"level":3,"hash":"#独立二级域名","text":"独立二级域名"},{"level":3,"hash":"#百度-mipcache-页面处理","text":"百度 MIP-Cache 页面处理"},{"level":3,"hash":"#百度-mipcache-的抓取标准","text":"百度 MIP-Cache 的抓取标准"},{"level":3,"hash":"#百度-mipcache-的超时设置","text":"百度 MIP-Cache 的超时设置"}]},{"level":2,"hash":"#百度-mipcache-的操作","text":"百度 MIP-Cache 的操作","children":[{"level":3,"hash":"#清理-mipcache","text":"清理 MIP-Cache"},{"level":3,"hash":"#紧急删除-mip-页面方法","text":"紧急删除 MIP 页面方法"}]},{"level":2,"hash":"#mipcache-小结","text":"MIP-Cache 小结"}]}],
      'url': "/v2/guide/mip-in-search/mip-cache.html"
    }
  </script>
</mip-data>

    <!-- <script src="http://172.18.19.102:8080/dist/mip.js"></script> -->
    <script src="https://c.mipcdn.com/static/v2/mip.js"></script>
    <!-- <script src="https://bos.nj.bpc.baidu.com/assets/mip/projects/mip.js"></script> -->
    <!-- <script src="http://127.0.0.1:8111/mip-sidenav/mip-sidenav.js"></script> -->
    <script src="https://bos.nj.bpc.baidu.com/assets/mip/temp/mip-sidenav.js?v=194253"></script>
    <script src="https://bos.nj.bpc.baidu.com/assets/mip/codelab/mip-stepper-tabs.js"></script>
<!--     <script src="http://127.0.0.1:8111/mip-stepper-tabs/mip-stepper-tabs.js"></script> -->
    <!-- <script src="https://c.mipcdn.com/static/v1/mip-fixed/mip-fixed.js"></script> -->
    <script src="https://c.mipcdn.com/static/v1/mip-sidebar/mip-sidebar.js"></script>
    <script src="https://c.mipcdn.com/static/v1/mip-showmore/mip-showmore.js"></script>
    <script src="https://c.mipcdn.com/static/v1/mip-toggle/mip-toggle.js"></script>
  </body>
</html>
