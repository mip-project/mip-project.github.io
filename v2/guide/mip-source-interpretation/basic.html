<!DOCTYPE html>
<html mip>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <title>MIP 文档_移动网页加速器_MIP(Mobile Instant Pages_)MIP 基础模块</title>
    <meta name="description" content="MIP 页面基础模块由 MIP.viewer 和 MIP.viewport 两部分组成，它们为 MIP 页面展现提供了很好的兼容策略和强有力的功能函数。其中 viewport 为开发者提供了一系列便捷的访问页面视口的 API，而 viewer 处理了大量平台兼容性的难题，同时实现了一些页面全局性的功能。">
    <link rel="canonical" href="/v2/guide/mip-source-interpretation/basic.html">
    <link rel="stylesheet" type="text/css" href="https://c.mipcdn.com/static/v2/mip.css">
    <link rel="icon" href="https://www.mipengine.org/favicon.ico">
    <!-- <link rel="stylesheet" href="https://bos.nj.bpc.baidu.com/assets/mip/projects/mip.css"> -->
    <!-- <link rel="stylesheet" href="http://172.18.19.102:8080/dist/mip.css"> -->
    <link rel="stylesheet" type="text/css" href="/src/style/dist/index.css">
  </head>
  <body>
<mip-fixed type="top" class="layout-navbar-fixed">
  <div class="layout-navbar">
    <a data-type="mip" href="/"><div class="navbar-logo"></div></a>
    <div class="navbar-menu">
      <ul class="navbar-menu-wrapper">
        <li class="navbar-item" ><a data-type="mip" href="/v2/index.html" class="menu-name" title="首页">首页</a></li>
        <li class="navbar-item active">
          <span class="menu-name" title="学习">学习<i class="arrow"></i></span>
          <ul class="navbar-sub-menu">
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/guide/basic/newbie.html" title="使用文档">使用文档</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/components/index.html" title="组件列表">组件列表</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/api/index.html" title="API">API</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="/v2/codelabs/index.html" title="Codelab">Codelab</a></li>
          </ul>
        </li>
        <li class="navbar-item">
          <span class="menu-name" title="常用链接">常用链接<i class="arrow"></i></span>
          <ul class="navbar-sub-menu">
            <li class="navbar-sub-item"><a data-type="mip" href="http://www.cnblogs.com/mipengine" title="MIP 官方博客">MIP 官方博客</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://github.com/mipengine/mip2/tree/master/packages/mip-cli" title="MIP-CLI 本地开发工具">MIP-CLI 本地开发工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/validate" title="MIP 代码校验工具">MIP 代码校验工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/preview" title="MIP 效果预览工具">MIP 效果预览工具</a></li>
            <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/mippath.html" title="MIP PATH 转换工具">MIP PATH 转换工具</a></li>
          </ul>
        </li>
        <li class="navbar-item" ><a target="_blank" href="https://github.com/mipengine/mip2" class="menu-name" title="GitHub">GitHub</a></li>
        <li class="navbar-item" ><a target="_blank" href="https://www.mipengine.org" class="menu-name" title="回到旧版">回到旧版</a></li>
      </ul>
      <div class="navbar-indicator" m-bind:style="navbarStyle"></div>
    </div>
    <div class="navbar-toggle" on="tap:nav-sidebar.open"><i class="iconfont icon-bars"></i></div>
  </div>
</mip-fixed>

    <mip-sidebar
      id="nav-sidebar"
      layout="nodisplay"
      side="right"
      class="mip-hidden nav-sidebar"
    >
<div class="sidebar-fragment sidebar-nav-wrapper"
  m-bind:class="{hide:sidebarFragment!=='nav'}"
>
  <h1 on="tap:MIP.setData({sidebarFragment:m.sidebarSecondFragment})"><span class="home-arrow">目录</span></h1>
  <ul class="navbar-menu-wrapper">
    <li class="navbar-item" ><a data-type="mip" href="/v2/index.html" class="menu-name">首页</a></li>
    <li class="navbar-item active">
      <span class="menu-name">学习</span>
      <ul class="navbar-sub-menu">
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/guide/basic/newbie.html">使用文档</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/components/index.html">组件列表</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/api/index.html">API</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="/v2/codelabs/index.html">Codelab</a></li>
      </ul>
    </li>
    <li class="navbar-item">
      <span class="menu-name">常用链接</span>
      <ul class="navbar-sub-menu">
        <li class="navbar-sub-item"><a data-type="mip" href="http://www.cnblogs.com/mipengine">MIP 官方博客</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://github.com/mipengine/mip2/tree/master/packages/mip-cli">MIP-CLI 本地开发工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/validate">MIP 代码校验工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/validator/preview">MIP 效果预览工具</a></li>
        <li class="navbar-sub-item"><a data-type="mip" href="https://www.mipengine.org/mippath.html">MIP PATH 转换工具</a></li>
      </ul>
    </li>
    <li class="navbar-item" ><a data-type="mip" href="https://github.com/mipengine/mip2" class="menu-name">GitHub</a></li>
    <li class="navbar-item" ><a data-type="mip" href="https://www.mipengine.org" class="menu-name">回到旧版</a></li>
  </ul>
</div>
<div class="sidebar-fragment navbar-secnav-wrapper"
  m-bind:class="{hide:sidebarFragment!=='guide'}"
>
  <h1 on="tap:MIP.setData({sidebarFragment:'nav'})"><span>使用文档</span></h1>
  <mip-sidenav m-bind:menu="menu" m-bind:chapters="chapters" m-bind:url="url"></mip-sidenav>
</div>
    </mip-sidebar>

<mip-fixed type="left" top="64px" class="layout-sidebar">
  <mip-sidenav m-bind:menu="menu" m-bind:chapters="chapters" m-bind:url="url">
  </mip-sidenav>
</mip-fixed>
<div class="layout-main-content">
  <div class="content-wrapper">
<p class="markdown-breadcrumb">
  <span>MIP 源码解析</span><span class="split">/</span>  <span>MIP 基础模块</span></p>
    <div class="markdown-body">
      <h1 id="mip-基础模块"><a href="#mip-基础模块" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP 基础模块</h1><p>MIP 页面基础模块由 <code>MIP.viewer</code> 和 <code>MIP.viewport</code> 两部分组成，它们为 MIP 页面展现提供了很好的兼容策略和强有力的功能函数。其中 viewport 为开发者提供了一系列便捷的访问页面视口的 API，而 viewer 处理了大量平台兼容性的难题，同时实现了一些页面全局性的功能。</p><h2 id="viewport-模块-获取视口信息"><a href="#viewport-模块-获取视口信息" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>viewport 模块 - 获取视口信息</h2><p>在开发自定义组件的过程中，经常会出现获取当前视口信息的需求。例如开发一个向上滑动加载的长列表，需要实时获取当前视口的滚动距离。MIP 的 viewport 模块封装了一系列视口相关的 API 供组件开发者方便地使用，大致可以分成获取视口尺寸和获取、设置滚动位置两类，主要方法如下。</p><h3 id="视口尺寸"><a href="#视口尺寸" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>视口尺寸</h3><p>通过 <code>MIP.viewport.getWidth()</code> 和 <code>MIP.viewport.getHeight()</code> 获取视口的宽和高，MIP 的 viewport 模块内部实际使用了 <code>window</code> 或者 <code>document.documentElement</code> 上的宽高属性来计算视口的宽高，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div></div><code class="lang-js"><span class="hljs-comment">// 获取视口宽度</span>
getWidth () {
  <span class="hljs-keyword">return</span> win.innerWidth || docElem.clientWidth
},
<span class="hljs-comment">// 获取视口高度</span>
getHeight () {
  <span class="hljs-keyword">return</span> win.innerHeight || docElem.clientHeight
}</code></pre><h3 id="滚动位置"><a href="#滚动位置" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>滚动位置</h3><p>对于滚动位置信息，MIP 的 viewport 模块既提供了类似视口尺寸这样的获取方法，也提供了直接设置当前滚动距离，让页面发生滚动行为的方法。 例如开发者可以获取水平和垂直方向的滚动距离，以及当前滚动区域的宽高尺寸，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div></div><code class="lang-js"><span class="hljs-comment">// 获取垂直方向滚动距离</span>
getScrollTop () {
  <span class="hljs-keyword">return</span> rect.getScrollTop()
},
<span class="hljs-comment">// 获取水平方向滚动距离</span>
getScrollLeft () {
  <span class="hljs-keyword">return</span> rect.getScrollLeft()
},
<span class="hljs-comment">// 获取滚动区域宽度</span>
getScrollWidth () {
  <span class="hljs-keyword">return</span> rect.getScrollWidth()
},
<span class="hljs-comment">// 获取滚动区域总高度</span>
getScrollHeight () {
  <span class="hljs-keyword">return</span> rect.getScrollHeight()
}</code></pre><blockquote><p>细心的读者肯定已经发现了，在 viewport 模块中这些滚动位置信息都是通过 rect 这个对象得到的。在 rect 中，特别处理了iOS <code>&lt;iframe&gt;</code> 下的滚动兼容问题，对外暴露的接口已经隐藏了具体实现细节。</p></blockquote><p>除了读取滚动位置，在开发「<strong>回到顶部</strong>」这样的组件时，直接设置滚动距离，让页面滚动到指定位置是一个常见的需求。为此 viewport 模块也提供了<code>MIP.viewport.setScrollTop()</code> 方法，如代码如下所示：</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div></div><code class="lang-js"><span class="hljs-comment">// 滚动到指定位置</span>
setScrollTop (top) {
  rect.setScrollTop(top)
}</code></pre><h3 id="监听视口事件"><a href="#监听视口事件" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>监听视口事件</h3><p>除了直接获取视口相关信息，监听视口的改变事件，做出相应操作也是一个常见的需求。为此，viewport 在滚动过程以及自身尺寸发生改变时，会触发相应的事件，自定义组件可以监听这些事件，做出相应操作。</p><p>viewport 模块在初始化阶段会注册对于两类事件的监听函数：滚动容器的 <code>scroll</code> 事件以及 <code>window</code> 的 <code>resize</code> 事件，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div></div><code class="lang-js">init () {
  <span class="hljs-comment">// 监听滚动事件</span>
  <span class="hljs-keyword">this</span>.scroller.addEventListener(<span class="hljs-string">'scroll'</span>, scrollHandle.bind(<span class="hljs-keyword">this</span>))
  <span class="hljs-comment">// 监听窗口尺寸变化事件</span>
  win.addEventListener(<span class="hljs-string">'resize'</span>, resizeEvent.bind(<span class="hljs-keyword">this</span>))
}</code></pre><p>MIP 的 viewport 模块自身继承了 <code>EventEmitter</code> 对象，拥有了触发和监听事件的能力。在接收到这两类事件时，会通过 <code>trigger</code> 触发他们。例如对于 <code>scroll</code> 事件，在处理函数中调用 <code>trigger</code> 触发了同名事件，另外为了避免事件频繁触发，这里使用了 <code>fn.throttle</code> 进行了节流，设置了最小触发间隔也就是 16.7 ms，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div></div><code class="lang-js"><span class="hljs-keyword">let</span> scrollHandle = fn.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
  <span class="hljs-keyword">this</span>.trigger(<span class="hljs-string">'scroll'</span>, event)
}, <span class="hljs-number">1000</span> / <span class="hljs-number">60</span>)</code></pre><p>对于 MIP 的<a href="/v2/guide/mip-source-interpretation/3-mip-components.html">自定义组件</a>来说，只需要通过 <code>MIP.viewport.on</code> 监听 <code>scroll</code> 和 <code>resize</code> 事件即可，下面我们来看看具体的使用方法。</p><h3 id="滚动事件"><a href="#滚动事件" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>滚动事件</h3><p>组件可以监听 <code>scroll</code> 事件，在事件处理函数中通过上一小节介绍的 <code>MIP.viewport.getScrollTop()</code> 方法获取当前的滚动距离，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div></div><code class="lang-js">viewport.on(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// 获取当前滚动距离，做出相应操作</span>
  <span class="hljs-keyword">let</span> scrollTop = viewport.getScrollTop()
})}</code></pre><h3 id="视口尺寸改变事件"><a href="#视口尺寸改变事件" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>视口尺寸改变事件</h3><p>组件也可以监听 <code>resize</code> 事件，例如在手机发生横竖屏切换时，可以获取当前最新的视口尺寸，改变组件当前的展示状态，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div></div><code class="lang-js">viewport.on(<span class="hljs-string">'resize'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// 获取当前视口宽度</span>
  <span class="hljs-keyword">let</span> width = viewport.getWidth()
})}</code></pre><p>以上就是 viewport 模块提供的全部功能，下面我们将介绍页面基础模块中另一个重要的组成部分 viewer 模块。</p><h2 id="viewer-功能简介"><a href="#viewer-功能简介" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>viewer 功能简介</h2><p>通过前两小节的介绍我们已经知道，当需要获取页面视口相关的信息时，只需要访问 <code>MIP.viewport</code> 提供的 API。但是实际运行情况要复杂得多，一个 MIP 页面可能在搜索结果页中展示，也有可能在独立站点中展示，再加上不同平台上的各种浏览器，如何保证在这些差异化场景下类似 viewport 模块提供的 API 还能正常访问，甚至整个页面依然能够稳定流畅呢？</p><p>对于 MIP 页面和组件的开发者，是不需要考虑这些问题的。但是 viewer 模块则需要兼容这些情况，尽可能抹平这些差异，保证页面的一致化展现。除此之外，viewer 模块还需要处理页面上的一些全局性行为，例如点击 <code>&lt;a&gt;</code> 链接进行跳转等等。</p><p>在这一节中，我们不会详细介绍 viewer 模块所做的全部工作，viewer 模块的绝大多数内容可以认为是对开发者透明的，主要集中在兼容性和处理全局行为两个方面。在本节接下来的内容中，我们将从这两个方面各取一例进行示例介绍。 首先，我们介绍一个处理兼容性过程中遇到的问题。</p><h3 id="fixed-元素滚动问题"><a href="#fixed-元素滚动问题" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>fixed 元素滚动问题</h3><p>在 iOS 的 iframe 中，如果页面中包含了使用 <code>display: fixed</code> 定位的元素，在页面发生滚动时，这些元素并不会遵循 fixed 的特性停留在页面的同一位置，而会发生明显的上下跳动，十分影响视觉效果。</p><p>为了解决这个问题，我们会使用一个相当 <strong>HACK</strong> 的做法：创建一个 body 的兄弟节点，将原有页面中所有的 fixed 元素移动到这个节点中，我们把这个节点叫做 fixedlayer。打开 iframe 中的 MIP 页面，我们将看到原始的 HTML 结构发生了一个明显的改变，例如 <code>&lt;mip-fixed&gt;</code> 这样的元素被移动到了 fixedlayer 中，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div></div><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mip-fixedlayer"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: absolute; top: 0px; left: 0px; height: 0px; width: 0px;..."</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mip-fixed</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"top"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mip-fixed</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><p>为了找出页面中所有的 fixed 元素，viewer 模块会通过选择器查询所有 <code>&lt;mip-fixed&gt;</code> 元素，如下面代码所示。</p><pre><div class="code-index"><div>1</div></div><code class="lang-js"><span class="hljs-keyword">let</span> mipFixedElements = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'mip-fixed'</span>)</code></pre><p>因此作为开发者，如果开发的自定义组件中需要使用 fixed 元素，请务必使用 <code>&lt;mip-fixed&gt;</code> 进行包裹，以保证在 iOS iframe 下的展现效果。 看完了一个处理兼容性的场景，接下来我们将介绍一个 viewer 模块处理页面全局性行为的问题。</p><h3 id="mip-链接跳转"><a href="#mip-链接跳转" class="heading-link"><i class="fa fa-link" aria-hidden="true"></i></a>MIP 链接跳转</h3><p>在 MIP 页面中，当需要编写一个跳转到其他 MIP 页面的链接时，并不需要使用类似 <code>&lt;mip-link&gt;</code> 这样的自定义组件，只需要在普通的 <code>&lt;a&gt;</code> 上增加 mip-link 属性，如下面代码所示。</p><pre><div class="code-index"><div>1</div></div><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"http://www.example.com/home.html"</span> <span class="hljs-attr">mip-link</span>&gt;</span>回到主页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></code></pre><p>在 viewer 模块中，需要代理页面中所有的 <code>&lt;a&gt;</code> 链接点击事件，具体在 <code>_proxyLink()</code> 方法中实现。从下划线开头的命名约定也能看出，这个方法是不需要开发者来调用的。在具体实现中用到了 MIP utils 中的 event 模块中的事件委托方法，如下面代码所示。</p><pre><div class="code-index"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div></div><code class="lang-js">_proxyLink (page = {}) {
  <span class="hljs-keyword">let</span> self = <span class="hljs-keyword">this</span>
  <span class="hljs-comment">// 代理所有 &lt;a&gt; 元素的 click 事件</span>
  event.delegate(<span class="hljs-built_in">document</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
    <span class="hljs-keyword">let</span> $a = <span class="hljs-keyword">this</span> <span class="hljs-comment">// &lt;a&gt; 元素</span>
    <span class="hljs-keyword">let</span> to = $a.href <span class="hljs-comment">// 跳转地址</span>
    <span class="hljs-keyword">let</span> isMipLink = $a.hasAttribute(<span class="hljs-string">'mip-link'</span>) <span class="hljs-comment">// 是否是 MIP 链接</span>
    self.open(to, {isMipLink}) <span class="hljs-comment">// 打开 MIP 链接</span>
  }
}</code></pre><p>接下来，对于包含 mip-link 属性的 <code>&lt;a&gt;</code> 链接，会调用 <code>MIP.viewer.open()</code> 以 iframe 的方式打开这个 MIP 页面。以上就是 viewer 模块处理MIP 链接的全过程。</p><p>最后总结一下，作为页面基础模块，viewport 模块为开发者提供了一系列便捷的访问页面视口的 API，保证覆盖到这部分开发组件的需求。而 viewer 模块处理了大量平台兼容性的难题，同时实现了一些页面全局性的功能，让页面浏览更加稳定顺畅，保证了稳定的用户体验，让用户可以在 MIP 技术的支撑下，自由阅读页面提供的优质内容。</p>
    </div>
<div class="markdown-toolbar">
  <a data-type="mip" href="https://github.com/mipengine/mip2/issues/new?title=反馈:docs/guide/mip-source-interpretation/basic.md"><span>反馈</span></a>
  <a data-type="mip" href="https://github.com/mipengine/mip2/edit/master/docs/guide/mip-source-interpretation/basic.md"><span>编辑</span></a>
</div>
<div class="markdown-paginator">

  <a class="markdown-paginator-item" data-type="mip" href="/v2/guide/mip-source-interpretation/introduction.html">
    <p class="label">上一页</p>
    <p class="title">MIP 模块简介</p>
  </a>
  <a class="markdown-paginator-item" data-type="mip" href="/v2/guide/mip-source-interpretation/components.html">
    <p class="label">下一页</p>
    <p class="title">MIP 组件机制详解</p>
  </a>
</div>
  </div>
</div>
<mip-data>
  <script type="application/json">
    {
      "navbar": [{"name":"首页","path":"docs/index","activeUrl":{},"width":32,"url":"/v2/index.html"},{"name":"学习","width":32,"activeUrl":{},"children":[{"name":"使用文档","path":"docs/guide","width":64,"url":"/v2/guide/basic/newbie.html"},{"name":"组件列表","path":"docs/extensions","width":64,"url":"/v2/components/index.html"},{"name":"API","path":"docs/api","url":"/v2/api/index.html"},{"name":"Codelab","path":"docs/codelabs","width":60,"url":"/v2/codelabs/index.html"}]},{"name":"常用链接","children":[{"name":"MIP 官方博客","url":"http://www.cnblogs.com/mipengine","blank":true},{"name":"MIP-CLI 本地开发工具","url":"https://github.com/mipengine/mip2/tree/master/packages/mip-cli","blank":true},{"name":"MIP 代码校验工具","url":"https://www.mipengine.org/validator/validate","blank":true},{"name":"MIP 效果预览工具","url":"https://www.mipengine.org/validator/preview","blank":true},{"name":"MIP PATH 转换工具","url":"https://www.mipengine.org/mippath.html","blank":true}],"width":82},{"name":"GitHub","url":"https://github.com/mipengine/mip2","blank":true,"width":50},{"name":"回到旧版","url":"https://www.mipengine.org","blank":true,"width":32}],
      "navIndex": "1",
      "sidebarFragment": "guide",
      "sidebarSecondFragment": "guide",
      "menu": [{"name":"简介","path":"docs/guide/basic","children":[{"name":"新手指南","path":"docs/guide/basic/newbie.md","url":"/v2/guide/basic/newbie.html"},{"name":"完整的例子","path":"docs/guide/basic/demo.md","url":"/v2/guide/basic/demo.html"},{"name":"什么是 MIP","path":"docs/guide/basic/what-is-mip.md","url":"/v2/guide/basic/what-is-mip.html"},{"name":"MIP 加速原理","path":"docs/guide/basic/principle-of-mip.md","url":"/v2/guide/basic/principle-of-mip.html"},{"name":"MIP 内容声明","path":"docs/guide/basic/announcement.md","url":"/v2/guide/basic/announcement.html"}]},{"name":"开发规范","path":"docs/guide/mip-standard","children":[{"name":"MIP-HTML 规范","path":"docs/guide/mip-standard/mip-html-spec.md","url":"/v2/guide/mip-standard/mip-html-spec.html"},{"name":"MIP-Cache 规范","path":"docs/guide/mip-standard/mip-cache-spec.md","url":"/v2/guide/mip-standard/mip-cache-spec.html"},{"name":"MIP 校验规则","path":"docs/guide/mip-standard/mip-validate.md","url":"/v2/guide/mip-standard/mip-validate.html"},{"name":"Canonical 使用规范","path":"docs/guide/mip-standard/mip-canonical.md","url":"/v2/guide/mip-standard/mip-canonical.html"},{"name":"组件开发规范","path":"docs/guide/mip-standard/mip-components-spec.md","url":"/v2/guide/mip-standard/mip-components-spec.html"}]},{"name":"MIP 组件机制","path":"docs/guide/component","children":[{"name":"MIP 组件化介绍","path":"docs/guide/component/introduction.md","url":"/v2/guide/component/introduction.html"},{"name":"MIP 组件和 Vue 的关系","path":"docs/guide/component/relationship-between-mip-component-and-vue.md","url":"/v2/guide/component/relationship-between-mip-component-and-vue.html"},{"name":"MIP 2.0 组件实例的生命周期和回调钩子","path":"docs/guide/component/instance-life-cycle.md","url":"/v2/guide/component/instance-life-cycle.html"},{"name":"MIP-HTML 语法和对应 MIP 组件开发介绍","path":"docs/guide/component/syntax.md","url":"/v2/guide/component/syntax.html"},{"name":"插槽","path":"docs/guide/component/slots.md","url":"/v2/guide/component/slots.html"},{"name":"组件布局","path":"docs/guide/component/layout.md","url":"/v2/guide/component/layout.html"},{"name":"沙盒机制","path":"docs/guide/component/sandbox.md","url":"/v2/guide/component/sandbox.html"},{"name":"事件通信","path":"docs/guide/component/actions-and-events.md","url":"/v2/guide/component/actions-and-events.html"},{"name":"组件属性 Props","path":"docs/guide/component/props.md","url":"/v2/guide/component/props.html"}]},{"name":"MIP 组件开发","path":"docs/guide/mip-cli","children":[{"name":"mip2 命令行工具","path":"docs/guide/mip-cli/cli-usage.md","url":"/v2/guide/mip-cli/cli-usage.html"},{"name":"使用 mip-cli 快速开始","path":"docs/guide/mip-cli/start-writing-first-mip.md","url":"/v2/guide/mip-cli/start-writing-first-mip.html"},{"name":"MIP 组件开发","path":"docs/guide/mip-cli/component-development.md","url":"/v2/guide/mip-cli/component-development.html"},{"name":"组件调试","path":"docs/guide/mip-cli/component-testing.md","url":"/v2/guide/mip-cli/component-testing.html"},{"name":"组件部署","path":"docs/guide/mip-cli/component-deploy.md","url":"/v2/guide/mip-cli/component-deploy.html"},{"name":"提交组件到官方组件仓库","path":"docs/guide/mip-cli/contribute-to-official-repo.md","url":"/v2/guide/mip-cli/contribute-to-official-repo.html"},{"name":"提交站长组件","path":"docs/guide/mip-cli/contribute-to-site-extensions-repo.md","url":"/v2/guide/mip-cli/contribute-to-site-extensions-repo.html"},{"name":"mip2 CLI 用户自定义扩展","path":"docs/guide/mip-cli/cli-user-plugin.md","url":"/v2/guide/mip-cli/cli-user-plugin.html"}]},{"name":"进阶教程","path":"docs/guide/mip-advanced","children":[{"name":"MIP 组件间通信","path":"docs/guide/mip-advanced/components-event.md","url":"/v2/guide/mip-advanced/components-event.html"},{"name":"MIP 中与服务端通信","path":"docs/guide/mip-advanced/data-from-server.md","url":"/v2/guide/mip-advanced/data-from-server.html"},{"name":"Promise 在 MIP 中的使用","path":"docs/guide/mip-advanced/promise.md","url":"/v2/guide/mip-advanced/promise.html"},{"name":"MIP 加速原理","path":"docs/guide/mip-advanced/mip-speed-principle.md","url":"/v2/guide/mip-advanced/mip-speed-principle.html"},{"name":"MIP Access 原理剖析","path":"docs/guide/mip-advanced/access-principle.md","url":"/v2/guide/mip-advanced/access-principle.html"},{"name":"离线可用在 MIP 中的实现","path":"docs/guide/mip-advanced/mip-offline.md","url":"/v2/guide/mip-advanced/mip-offline.html"}]},{"name":"MIP 源码解析","path":"docs/guide/mip-source-interpretation","children":[{"name":"MIP 模块简介","path":"docs/guide/mip-source-interpretation/introduction.md","url":"/v2/guide/mip-source-interpretation/introduction.html"},{"name":"MIP 基础模块","path":"docs/guide/mip-source-interpretation/basic.md","url":"/v2/guide/mip-source-interpretation/basic.html"},{"name":"MIP 组件机制详解","path":"docs/guide/mip-source-interpretation/components.md","url":"/v2/guide/mip-source-interpretation/components.html"},{"name":"layout 布局规范","path":"docs/guide/mip-source-interpretation/layout.md","url":"/v2/guide/mip-source-interpretation/layout.html"},{"name":"naboo 动画库","path":"docs/guide/mip-source-interpretation/naboo-animation.md","url":"/v2/guide/mip-source-interpretation/naboo-animation.html"},{"name":"gesture 手势集合","path":"docs/guide/mip-source-interpretation/gesture-sets.md","url":"/v2/guide/mip-source-interpretation/gesture-sets.html"},{"name":"hash 通信机制","path":"docs/guide/mip-source-interpretation/hash.md","url":"/v2/guide/mip-source-interpretation/hash.html"},{"name":"platform 识别","path":"docs/guide/mip-source-interpretation/platform.md","url":"/v2/guide/mip-source-interpretation/platform.html"}]},{"name":"可交互 MIP","path":"docs/guide/interactive-mip","children":[{"name":"可交互 MIP - 概况","path":"docs/guide/interactive-mip/introduction.md","url":"/v2/guide/interactive-mip/introduction.html"},{"name":"mip-data 设置数据","path":"docs/guide/interactive-mip/mip-data.md","url":"/v2/guide/interactive-mip/mip-data.html"},{"name":"mip-bind 绑定数据","path":"docs/guide/interactive-mip/mip-bind.md","url":"/v2/guide/interactive-mip/mip-bind.html"},{"name":"Class 与 Style 绑定","path":"docs/guide/interactive-mip/class-style-binding.md","url":"/v2/guide/interactive-mip/class-style-binding.html"},{"name":"MIP.setData 修改数据","path":"docs/guide/interactive-mip/set-data.md","url":"/v2/guide/interactive-mip/set-data.html"},{"name":"MIP.watch 观察数据","path":"docs/guide/interactive-mip/watch.md","url":"/v2/guide/interactive-mip/watch.html"},{"name":"全局共享数据","path":"docs/guide/interactive-mip/global-data.md","url":"/v2/guide/interactive-mip/global-data.html"},{"name":"mip-script 自定义 JS","path":"docs/guide/interactive-mip/mip-script.md","url":"/v2/guide/interactive-mip/mip-script.html"}]},{"name":"全站 MIP","path":"docs/guide/all-sites-mip","children":[{"name":"全站 MIP 介绍","path":"docs/guide/all-sites-mip/introduction.md","url":"/v2/guide/all-sites-mip/introduction.html"},{"name":"MIP 页面编写规范","path":"docs/guide/all-sites-mip/structure.md","url":"/v2/guide/all-sites-mip/structure.html"},{"name":"页面切换方案","path":"docs/guide/all-sites-mip/switch-page.md","url":"/v2/guide/all-sites-mip/switch-page.html"},{"name":"Page API","path":"docs/guide/all-sites-mip/page-api.md","url":"/v2/guide/all-sites-mip/page-api.html"},{"name":"MIP Shell","path":"docs/guide/all-sites-mip/mip-shell.md","url":"/v2/guide/all-sites-mip/mip-shell.html"},{"name":"MIP Viewer","path":"docs/guide/all-sites-mip/viewer.md","url":"/v2/guide/all-sites-mip/viewer.html"},{"name":"MIP 快捷样式","path":"docs/guide/all-sites-mip/style.md","url":"/v2/guide/all-sites-mip/style.html"}]},{"name":"MIP 搜索生效","path":"docs/guide/mip-in-search","children":[{"name":"搜索识别 MIP 页","path":"docs/guide/mip-in-search/introduction.md","url":"/v2/guide/mip-in-search/introduction.html"},{"name":"MIP 搜索生效流程","path":"docs/guide/mip-in-search/process.md","url":"/v2/guide/mip-in-search/process.html"},{"name":"MIP-Cache","path":"docs/guide/mip-in-search/mip-cache.md","url":"/v2/guide/mip-in-search/mip-cache.html"},{"name":"类原生的 MIP 页面体验","path":"docs/guide/mip-in-search/native-like-mip.md","url":"/v2/guide/mip-in-search/native-like-mip.html"}]}],
      "chapters": [{"level":1,"hash":"#mip-基础模块","text":"MIP 基础模块","children":[{"level":2,"hash":"#viewport-模块-获取视口信息","text":"viewport 模块 - 获取视口信息","children":[{"level":3,"hash":"#视口尺寸","text":"视口尺寸"},{"level":3,"hash":"#滚动位置","text":"滚动位置"},{"level":3,"hash":"#监听视口事件","text":"监听视口事件"},{"level":3,"hash":"#滚动事件","text":"滚动事件"},{"level":3,"hash":"#视口尺寸改变事件","text":"视口尺寸改变事件"}]},{"level":2,"hash":"#viewer-功能简介","text":"viewer 功能简介","children":[{"level":3,"hash":"#fixed-元素滚动问题","text":"fixed 元素滚动问题"},{"level":3,"hash":"#mip-链接跳转","text":"MIP 链接跳转"}]}]}],
      'url': "/v2/guide/mip-source-interpretation/basic.html"
    }
  </script>
</mip-data>

    <!-- <script src="http://172.18.19.102:8080/dist/mip.js"></script> -->
    <script src="https://c.mipcdn.com/static/v2/mip.js"></script>
    <!-- <script src="https://bos.nj.bpc.baidu.com/assets/mip/projects/mip.js"></script> -->
    <!-- <script src="http://127.0.0.1:8111/mip-sidenav/mip-sidenav.js"></script> -->
    <script src="https://bos.nj.bpc.baidu.com/assets/mip/temp/mip-sidenav.js?v=194253"></script>
    <script src="https://bos.nj.bpc.baidu.com/assets/mip/codelab/mip-stepper-tabs.js"></script>
<!--     <script src="http://127.0.0.1:8111/mip-stepper-tabs/mip-stepper-tabs.js"></script> -->
    <!-- <script src="https://c.mipcdn.com/static/v1/mip-fixed/mip-fixed.js"></script> -->
    <script src="https://c.mipcdn.com/static/v1/mip-sidebar/mip-sidebar.js"></script>
    <script src="https://c.mipcdn.com/static/v1/mip-showmore/mip-showmore.js"></script>
    <script src="https://c.mipcdn.com/static/v1/mip-toggle/mip-toggle.js"></script>
  </body>
</html>
